<%- include('./components/nav.ejs',{data:data,title:QuizName}) %>
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
 
<script src="https://code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>

<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css" />
<div class="form-group row">
    <div class="col"></div>
    <div class="col-8 mt-5 ">
        <div class="input-group-prepend" >
            <span class="input-group-text" id="copyLink" >Copy Link <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-clipboard m-2" viewBox="0 0 20 20">
                <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
              </svg></span>
            <input class="form-control" style="background-color:#fff;font-size: large;" id="link" type="text" name="link" value="<%= link %>" disabled>
            
        </div>
        
        
    </div>
    <div class="col mt-5">
        <button class="btn btn-default btn-primary pl-3 pr-3 mt-1" style="font-size: large ;text-align: center;" type="button" id="share">Share</button>
        <div id="dialogue" title="Share">Share Via Email:
            
        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=&su=Link for the <%= QuizName %> Quiz&body=Please Enter this link after logging into your student account and click 'Give Quiz' Button to attempt: %0D%0A <%= link %> %0D%0A%0D%0A **Note: You can only attempt quiz once**"
   title="Share by Email">
  <img src="http://png-2.findicons.com/files/icons/573/must_have/48/mail.png" ></a>
  <div class="input-group-prepend" >
    <span class="input-group-text" id="copyLink"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-clipboard m-2" viewBox="0 0 20 20">
        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
      </svg></span>
    <input class="form-control" style="background-color:#fff;font-size: large;" id="link" type="text" name="link" value="<%= link %>" disabled>
    
</div>

</div>

    </div>
    
</div>
<script>
    $('#copyLink').mouseenter(()=>{
            //console.log($(this));
            $('#copyLink').css("cursor","pointer");
            $('#copyLink').addClass("btn-secondary")
        
        
    });
    
    // $( "#share" ).dialog({
    //   autoOpen: false
    // });

    $( "#share" ).click(function() {
      $( "#dialogue" ).dialog({
            autoOpen: true,
            width: 500,
            height: 180,
            modal : true,
            
        } );
       
        $('#dialogue #copyLink').mouseenter(()=>{
            //console.log($(this));
            $('#dialogue #copyLink').css("cursor","pointer");
            $('#dialogue #copyLink').addClass("btn-secondary")    
    });
    $('#dialogue #copyLink').click(()=>{
        var link=$('#link').select();
        document.execCommand("copy");
        navigator.clipboard.writeText(link.val());
        $('#dialogue #copyLink').html(`Copied <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-check m-2" viewBox="0 0 20 20">
  <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
</svg>`);
        
        
    });
    });

    $(document).ready(()=>{
        $('#dialogue').css("display","none");
    $('#copyLink').click(()=>{
        var link=$('#link').select();
        document.execCommand("copy");
        navigator.clipboard.writeText(link.val());
        $('#copyLink').html(`Copied <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-check m-2" viewBox="0 0 20 20">
  <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
</svg>`);
        
        
    });
    
    })
</script>
<%- include('./components/footer.ejs') %>